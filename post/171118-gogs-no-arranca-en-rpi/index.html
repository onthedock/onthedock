<!DOCTYPE html>
<html ⚡>
  <head>
    <meta charset="utf-8">
<meta name="pinterest" content="nopin">
<meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1">
<meta name="theme-color" content="#263238">

<meta name="generator" content="Hugo 0.55.2" />

<link rel="apple-touch-icon" href="https://onthedock.github.io/images/logo.png">


<link rel="canonical" href="https://onthedock.github.io/post/171118-gogs-no-arranca-en-rpi/">


    
    <link href="https://fonts.googleapis.com/css?family=Lobster|Lato:400,700" rel="stylesheet">
    
    <title>Gogs No Arranca en la Raspberry Pi después de la configuración inicial - On The Dock</title>
    <style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style><noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript>
    <script async src="https://cdn.ampproject.org/v0.js"></script>
    
    <script async custom-element="amp-twitter" src="https://cdn.ampproject.org/v0/amp-twitter-0.1.js"></script>
<script async custom-element="amp-iframe" src="https://cdn.ampproject.org/v0/amp-iframe-0.1.js"></script>
<script async custom-element="amp-ad" src="https://cdn.ampproject.org/v0/amp-ad-0.1.js"></script>

    
<meta name="description" content="&lt;p&gt;En la entrada &lt;a href=&#34;https://onthedock.github.io/post/171106-gogs-como-crear-tu-propio-servicio-de-hospedaje-de-repos-git/&#34;&gt;Gogs - Cómo crear tu propio servicio de hospedaje de repositorios Git&lt;/a&gt; describía cómo montar un servicio como GitHub usando Gogs.&lt;/p&gt;&lt;p&gt;Hoy he intentado montar lo mismo sobre la Raspberry Pi aprovechando que Gogs ofrece una imagen específica: &lt;a href=&#34;https://hub.docker.com/r/gogs/gogs-rpi/&#34;&gt;gogs/gogs-rpi&lt;/a&gt;,&lt;/p&gt;">

<meta property="og:title" content="Gogs No Arranca en la Raspberry Pi después de la configuración inicial - On The Dock">
<meta property="og:type" content="article">
<meta property="og:url" content="https://onthedock.github.io/post/171118-gogs-no-arranca-en-rpi/">
<meta property="og:image" content="https://onthedock.github.io/images/gogs.png">
<meta property="og:site_name" content="On The Dock">
<meta property="og:description" content="&lt;p&gt;En la entrada &lt;a href=&#34;https://onthedock.github.io/post/171106-gogs-como-crear-tu-propio-servicio-de-hospedaje-de-repos-git/&#34;&gt;Gogs - Cómo crear tu propio servicio de hospedaje de repositorios Git&lt;/a&gt; describía cómo montar un servicio como GitHub usando Gogs.&lt;/p&gt;&lt;p&gt;Hoy he intentado montar lo mismo sobre la Raspberry Pi aprovechando que Gogs ofrece una imagen específica: &lt;a href=&#34;https://hub.docker.com/r/gogs/gogs-rpi/&#34;&gt;gogs/gogs-rpi&lt;/a&gt;,&lt;/p&gt;">
<meta property="og:locale" content="ja_JP">

<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site" content="On The Dock">
<meta name="twitter:url" content="https://onthedock.github.io/post/171118-gogs-no-arranca-en-rpi/">
<meta name="twitter:title" content="Gogs No Arranca en la Raspberry Pi después de la configuración inicial - On The Dock">
<meta name="twitter:description" content="&lt;p&gt;En la entrada &lt;a href=&#34;https://onthedock.github.io/post/171106-gogs-como-crear-tu-propio-servicio-de-hospedaje-de-repos-git/&#34;&gt;Gogs - Cómo crear tu propio servicio de hospedaje de repositorios Git&lt;/a&gt; describía cómo montar un servicio como GitHub usando Gogs.&lt;/p&gt;&lt;p&gt;Hoy he intentado montar lo mismo sobre la Raspberry Pi aprovechando que Gogs ofrece una imagen específica: &lt;a href=&#34;https://hub.docker.com/r/gogs/gogs-rpi/&#34;&gt;gogs/gogs-rpi&lt;/a&gt;,&lt;/p&gt;">
<meta name="twitter:image" content="https://onthedock.github.io/images/gogs.png">


<script type="application/ld+json">
  {
    "@context": "http://schema.org",
    "@type": "NewsArticle",
    "mainEntityOfPage": {
      "@type": "WebPage",
      "@id":"https:\/\/onthedock.github.io\/"
    },
    "headline": "Gogs No Arranca en la Raspberry Pi después de la configuración inicial - On The Dock",
    "image": {
      "@type": "ImageObject",
      "url": "https:\/\/onthedock.github.io\/images\/gogs.png",
      "height": 800,
      "width": 800
    },
    "datePublished": "2017-11-18T22:34:59JST",
    "dateModified": "2017-11-18T22:34:59JST",
    "author": {
      "@type": "Person",
      "name": "On The Dock"
    },
    "publisher": {
      "@type": "Organization",
      "name": "On The Dock",
      "logo": {
        "@type": "ImageObject",
        "url": "https:\/\/onthedock.github.io\/images/logo.png",
        "width": 600,
        "height": 60
      }
    },
    "description": "\x3cp\x3eEn la entrada \x3ca href=\x22https:\/\/onthedock.github.io\/post\/171106-gogs-como-crear-tu-propio-servicio-de-hospedaje-de-repos-git\/\x22\x3eGogs - Cómo crear tu propio servicio de hospedaje de repositorios Git\x3c\/a\x3e describía cómo montar un servicio como GitHub usando Gogs.\x3c\/p\x3e\n\n\x3cp\x3eHoy he intentado montar lo mismo sobre la Raspberry Pi aprovechando que Gogs ofrece una imagen específica: \x3ca href=\x22https:\/\/hub.docker.com\/r\/gogs\/gogs-rpi\/\x22\x3egogs\/gogs-rpi\x3c\/a\x3e,\x3c\/p\x3e"
  }
</script>


    <style amp-custom>
      html { font-size: 18px;}@media (max-width: 768px) { html { font-size: 15px; }}body { font-family: Lato,'Hiragino Kaku Gothic Pro',メイリオ,Meiryo,sans-serif; font-size: inherit; margin: 0; color: #263238;}html, body { margin: 0;}a { text-decoration: none; color: #e91e63;}p { margin: 0;}ul,ol { margin: 0; padding: 0;}h1, h2, h3, h4, h5, h6 { margin: 0; font-weight: 700;}h1 { font-size: 1.8rem; line-height: 2rem; margin: 1.5rem 0; }h2 { font-size: 1.4rem; line-height: 2rem; margin: 1.5rem 0; }h3 { font-size: 1.2rem; line-height: 1.5rem; margin: 1.5rem 0; }h4, h5, h6 { font-size: 1rem; line-height: 1.5rem; margin: 1.5rem 0; }.clearfix::after { content: ''; display: block; clear: both;}main{ display: block;}.searchbar{ display: block; border: none; margin: 1em auto; max-width: 780px; text-align: center;}/* Layouts */.l-header { padding: .5rem 0; margin-bottom: 2rem; border-bottom: 1px dashed #cfd8dc; text-align: center;}.l-footer { font-size: .8rem; padding: 1rem 0; border-top: 1px dashed #cfd8dc;}.l-footer .copyright-notice,.l-footer .attribution { text-align: center;}.l-container { max-width: 42rem; margin: 0 auto; padding: 0 1rem;}/* Parts:logo */.p-logo { font-family: Lobster, cursive;}.p-logo a { color: #000; font-size: 1.6rem; line-height: 2rem;}/* Parts:section */section { border-top: 2px solid #eceff1; padding: 1.5rem 0;}section>header { text-transform: uppercase; font-weight: 700; margin-bottom: 2rem; text-align: center;}section>header span { display: inline-block; background-color: #000; color: #fff; letter-spacing: 3px; font-size: .7rem; padding: .5rem .75rem;}/* Parts:facts */.p-facts { list-style: none; font-size: .8rem; margin-bottom: 1rem;}.p-facts:last-child { margin-bottom: 0;}.p-facts li { display: inline-block; margin-right: .5rem; text-transform: uppercase;}.p-facts li header { margin-bottom: .25rem; font-weight: 700;}.p-facts li header a { color: #000; text-decoration: underline;}.p-facts li li { display: inline-block; margin-right: .5rem;}.p-facts li li::after { content: ',';}.p-facts li li:last-child::after { content: '';}/* Parts:crumb */.p-crumb { list-style: none; margin-bottom: 1rem; font-size: .8rem; text-transform: uppercase; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;}.p-crumb:last-child { margin-bottom: 0;}.p-crumb li { display: inline;}.p-crumb li::after { content: '›'; margin: 0 .5rem;}.p-crumb li:last-child::after { content: '';}/* Parts:page-title */.p-page-title { margin-bottom: 2rem;}.p-page-title .title { margin-bottom: .5rem;}/* Parts:share */.p-share { margin-bottom: 1.5rem; text-align: center;}.p-share a { display: inline-block; text-align: center; padding: .5rem .5rem; margin-right: .25rem; font-size: .6rem; background-color: #eceff1; font-weight: 700;}.p-share a.ht { color: #00a4de; }.p-share a.fb { color: #3b5998; }.p-share a.tw { color: #1da1f2; }.p-share a.ln { color: #00c300; }.p-share a.ht::before { content: 'Hatena'; }.p-share a.fb::before { content: 'Facebook'; }.p-share a.tw::before { content: 'Twitter'; }.p-share a.ln::before { content: 'LINE'; }/* Parts:terms */.p-terms { padding-left: 2rem;}/* Parts:paginator */.p-paginator { text-align: center; margin-bottom: 3rem; padding-top: 2rem;}.p-paginator a { display: inline-block; border: 2px solid #eceff1; color: #263238; line-height: 2rem; padding: 0 1rem;}/* Parts:article */.p-articles { list-style: none;}.p-articles>li { margin-bottom: 1.5rem; padding-bottom: 1.5rem; border-bottom: 1px dashed #cfd8dc;}.p-articles>li:last-child { border-bottom: none; padding-bottom: 0;}.p-articles.thin>li { margin-bottom: 1rem; padding-bottom: 1rem;}article .article-header { display: table-cell; height: 6rem; vertical-align: middle;}article .title { margin: 0; margin-bottom: .5rem; font-size: 1.4rem; line-height: 2rem;}article .title a { color: #000;}article .header-wrapper { margin-bottom: 1.5rem;}article .thumbnail { display: block; background-position: center; background-size: cover; background-image: url(https://onthedock.github.io/images/default.jpg); width: 6rem; height: 6rem; border-radius: 50%; box-shadow: 0 0 3px 0 #333 inset; float: left; margin-right: 1rem;}article .summary { margin-bottom: 1.5rem;}article .readmore { text-align: center;}article .readmore a { font-size: .8rem; color: #000; text-decoration: underline;}article.li.sm .header-wrapper { margin-bottom: 0;}.article-body h2 { padding: 1rem 0; color: #55bbbb; border-bottom: 2px solid #eceff1;}.article-body h2:first-child { margin-top: 0; }.article-body h3 { color: #8997e4; font-style: italic;}.article-body h4 { border-left: solid .25rem #cddc39; padding: 0 .5rem;}.article-body p { margin: 1.5rem 0; line-height: 1.5rem;}.article-body a { text-decoration: underline;}.article-body ul,.article-body ol { padding-left: 1.5rem;}.article-body li { line-height: 2rem;}.article-body code { display: inline-block; font-family: Menlo, consolas, monospace; background-color: #eceff1; font-size: .8rem; padding: 0 .5rem; line-height: 1.5rem;}.article-body pre { margin: 1.5rem 0; padding: 1.5rem; font-size: .8rem; background-color: #eeeeef; color: #444; overflow: auto;}.article-body pre code { background-color: transparent;}.article-body blockquote { /* margin: 1.2rem 0; padding: .5rem 0; */ /*font-size: .8rem;*/ border-top: 1px solid #eceff1; border-bottom: 1px solid #eceff1; color: #607d8b;}.article-body blockquote p { margin: .5rem 0; line-height: 1.5rem;}.article-body strong { /*box-shadow: 0 -.5rem 0 0 #f06292 inset;*/ font-style: bold; font-weight: 700; /*color: #ff5722; */}.article-body em { /*font-style: normal;*/ /*font-weight: 700; color: #00c300;*/ /*color: #00c300;*/ font-style: oblique;}.article-body figure { margin: 1.5rem -2rem; }.article-body figure.left,.article-body figure.right { width: 15rem; height: 12rem; margin-top: 0; margin-left: 0; margin-right: 0;}.article-body figure.left { float: left; margin-right: 1rem; margin-left: -2rem; }.article-body figure.right { float: right; margin-left: 1rem; margin-right: -2rem; }@media (max-width: 768px) { .article-body figure { margin: 1.5rem -1rem; } .article-body figure.left, .article-body figure.right { float: none; margin: 0 -1rem; width: auto; height: auto; }}.article-body figcaption { padding: .5rem 0; font-size: .8rem; text-align: center;}.article-body figcaption a { color: #263238;}

       .article-b5774c1af73ca2d2b4752dba3cca3af5 .thumbnail { background-image: url(https://onthedock.github.io/images/bug.png);  }  .article-5e7a622986ce86264ec760d50d1b24dc .thumbnail { background-image: url(https://onthedock.github.io/images/docker.png);  }  .article-5ebb631840a278963e57bd511343a7de .thumbnail { background-image: url(https://onthedock.github.io/images/docker.png);  }  .article-b81d424b8eb3bb8c288fe36d23387788 .thumbnail { background-image: url(https://onthedock.github.io/images/gitea.jpg);  }  .article-0626a0be459395ce9ead913f3f08adc4 .thumbnail { background-image: url(https://onthedock.github.io/images/kubernetes.png);  }  .article-fcee06d4be0563afd210fdcfb47dcff0 .thumbnail { background-image: url(https://onthedock.github.io/images/virtualbox.png);  }  .article-1db77bc78e9304df7ba062b03813a3be .thumbnail { background-image: url(https://onthedock.github.io/images/virtualbox.png);  }  .article-36c4d422ca047b8a471571c76b65d6c6 .thumbnail { background-image: url(https://onthedock.github.io/images/git.png);  }  .article-4c8c13dd5627da332e5774b27cf40099 .thumbnail { background-image: url(https://onthedock.github.io/images/linux.png);  }  .article-6e92220fbd4bf73e9add44ea35db7875 .thumbnail { background-image: url(https://onthedock.github.io/images/cloud-init.png);  }  .article-65945fdc2f7a451d2eba88e27bcae615 .thumbnail { background-image: url(https://onthedock.github.io/images/linux.png);  }  .article-d4ae75e268955792710fe6fdbf38a8cd .thumbnail { background-image: url(https://onthedock.github.io/images/linux.png);  }  .article-f875614400506b86e2eed3af9535c6f0 .thumbnail { background-image: url(https://onthedock.github.io/images/hugo.png);  }  .article-70ddbb73f4be0ef264658d45b44a1501 .thumbnail { background-image: url(https://onthedock.github.io/images/linux.png);  }  .article-af7ce20f88530a679b64bc11f369dd66 .thumbnail { background-image: url(https://onthedock.github.io/images/aws.png);  }  .article-749180de0a0f927ac4118d5f742aec7a .thumbnail { background-image: url(https://onthedock.github.io/images/aws.png);  }  .article-eabbba2a574b52017ab09aadb1e27892 .thumbnail { background-image: url(https://onthedock.github.io/images/git.png);  }  .article-4df08a53150d4f7d2766c8debd1831a3 .thumbnail { background-image: url(https://onthedock.github.io/images/aws.png);  }  .article-ae823e9b9f3db0ab3a477ed5e16bcb32 .thumbnail { background-image: url(https://onthedock.github.io/images/aws.png);  }  .article-9e165e5c05a4125a00ec1ec5048a7d4c .thumbnail { background-image: url(https://onthedock.github.io/images/git.png);  }  .article-0b46f42d26003d0a8a0c0a8792e872c3 .thumbnail { background-image: url(https://onthedock.github.io/images/aws.png);  }  .article-bf486333bdc41366eb67ebcd83df7dfd .thumbnail { background-image: url(https://onthedock.github.io/images/okd.png);  }  .article-5b04a4598c80921d43637c7023ad4877 .thumbnail { background-image: url(https://onthedock.github.io/images/linux.png);  }  .article-6548eb3cdf7ceb97a246efd3d61b22ae .thumbnail { background-image: url(https://onthedock.github.io/images/code.jpg);  }  .article-67ffd386f3fb60aa875a1b304dcbd33c .thumbnail { background-image: url(https://onthedock.github.io/images/linux.png);  }  .article-fdbe83149bbb772c83e8270b925cba5f .thumbnail { background-image: url(https://onthedock.github.io/images/code.jpg);  }  .article-fa396b4de84b2dfd9b95c5edfc10cc30 .thumbnail { background-image: url(https://onthedock.github.io/images/python.png);  }  .article-296c831bcc1b030d00b8ee27e96a5226 .thumbnail { background-image: url(https://onthedock.github.io/images/linux.png);  }  .article-b2b753da998b1936d8c475787c1de07f .thumbnail { background-image: url(https://onthedock.github.io/images/aws.png);  }  .article-b95004b4126fa41395385c5e37f31081 .thumbnail { background-image: url(https://onthedock.github.io/images/aws.png);  }  .article-a8fd68175b85c6ab1e57dd164e56c25e .thumbnail { background-image: url(https://onthedock.github.io/images/MabelAmber-mini.png);  }  .article-cd0ad924309bc0e2310a28f4574f3ee6 .thumbnail { background-image: url(https://onthedock.github.io/images/aws.png);  }  .article-c4149a0be2e1a3d215d0b9dbb1340cad .thumbnail { background-image: url(https://onthedock.github.io/images/aws.png);  }  .article-c04747c53dc824266e9428efb65f072d .thumbnail { background-image: url(https://onthedock.github.io/images/aws.png);  }  .article-c6d431118f1f3fa0e4ec3e6e454bb634 .thumbnail { background-image: url(https://onthedock.github.io/images/roadmap.png);  }  .article-1ce4351c9635f2cadcc6057dd96238d9 .thumbnail { background-image: url(https://onthedock.github.io/images/aws.png);  }  .article-8cb097c83a6ec6e1fe01c4278c8a35c6 .thumbnail { background-image: url(https://onthedock.github.io/images/aws.png);  }  .article-22355649e0a434b67e571674216e1e54 .thumbnail { background-image: url(https://onthedock.github.io/images/aws.png);  }  .article-23858711b322c88a48f2b2d742a36f3d .thumbnail { background-image: url(https://onthedock.github.io/images/linux.png);  }  .article-d92b1a0387e28368be9738f69f1aa7ce .thumbnail { background-image: url(https://onthedock.github.io/images/alpine.png);  }  .article-98124356b113c2a6917683aca3c29a99 .thumbnail { background-image: url(https://onthedock.github.io/images/linux.png);  }  .article-a093ac0f1b7268afeade39452595d2f1 .thumbnail { background-image: url(https://onthedock.github.io/images/bug.png);  }  .article-38834ecfa3e2f37d5a70e6884d71074a .thumbnail { background-image: url(https://onthedock.github.io/images/hugo.png);  }  .article-932932e45567c9f06aca44ce87e2a385 .thumbnail { background-image: url(https://onthedock.github.io/images/bug.png);  }  .article-c1ca90597f186bd1ad8bb1c94f4a447a .thumbnail { background-image: url(https://onthedock.github.io/images/alpine.png);  }  .article-765192a6c291e47974a12dcf8924d8db .thumbnail { background-image: url(https://onthedock.github.io/images/ansible.png);  }  .article-b764fa70c94a1d2fd4fd14237d21967d .thumbnail { background-image: url(https://onthedock.github.io/images/python.png);  }  .article-f68c36fc2fb55e32944f45e490e5e5e9 .thumbnail { background-image: url(https://onthedock.github.io/images/ansible.png);  }  .article-bd81d8ba70bc61639103fb97b7490aed .thumbnail { background-image: url(https://onthedock.github.io/images/hugo.png);  }  .article-1c63237c8383a2e30ee2e3fcc7150643 .thumbnail { background-image: url(https://onthedock.github.io/images/hugo.png);  }  .article-c0152a70142649803b63b10edd4921d3 .thumbnail { background-image: url(https://onthedock.github.io/images/asciidoctor.png);  }  .article-396652c83bff211b566a6a3fd5bf1913 .thumbnail { background-image: url(https://onthedock.github.io/images/hugo.png);  }  .article-bde56cbd0283e6a7909a444b8e08e5c5 .thumbnail { background-image: url(https://onthedock.github.io/images/linux.png);  }  .article-0c530d26aef03bb376ea14c3014c0325 .thumbnail { background-image: url(https://onthedock.github.io/images/linux.png);  }  .article-0d445519a7825dfd55db94b8b9817031 .thumbnail { background-image: url(https://onthedock.github.io/images/linux.png);  }  .article-a57735573e4d2b1c48a69a09a73878b7 .thumbnail { background-image: url(https://onthedock.github.io/images/linux.png);  }  .article-ccf02aadbf150df00f9a2962c5cc2c32 .thumbnail { background-image: url(https://onthedock.github.io/images/linux.png);  }  .article-b4fa6645c244835f679427bd29ec86fb .thumbnail { background-image: url(https://onthedock.github.io/images/190101/amazonlinux.png);  }  .article-1f90092555e2ba74f132561ef66df1d5 .thumbnail { background-image: url(https://onthedock.github.io/images/ansible.png);  }  .article-702ecd15d93c0a640329570a1515ec22 .thumbnail { background-image: url(https://onthedock.github.io/images/181124/roadmap.png);  }  .article-fe261e0b7d326a141c1ff662c1caf421 .thumbnail { background-image: url(https://onthedock.github.io/images/cloud-init.png);  }  .article-2fc7b42f0ad38b1d0c3bda16184154ed .thumbnail { background-image: url(https://onthedock.github.io/images/kubernetes.png);  }  .article-9a5a658f072f34635bd665eae7d0d498 .thumbnail { background-image: url(https://onthedock.github.io/images/docker-compose.jpg);  }  .article-f8770956a383aeb68930a558bae85310 .thumbnail { background-image: url(https://onthedock.github.io/images/automation.png);  }  .article-d27d7b7a4057230acbe88420832d3a67 .thumbnail { background-image: url(https://onthedock.github.io/images/gitea.jpg);  }  .article-365473b8c27877be27245e38a5feb95c .thumbnail { background-image: url(https://onthedock.github.io/images/kubernetes.png);  }  .article-8da35239d2403351cd1910b3939787f6 .thumbnail { background-image: url(https://onthedock.github.io/images/jenkins.png);  }  .article-4f389af4c69dce1f727b95af66218cc0 .thumbnail { background-image: url(https://onthedock.github.io/images/docker.png);  }  .article-b63b63041915fd06eb96d2d6b298ac9b .thumbnail { background-image: url(https://onthedock.github.io/images/sonarqube.png);  }  .article-db94723578a25efdcd1489b628ae77c9 .thumbnail { background-image: url(https://onthedock.github.io/images/sonarqube.png);  }  .article-92e6838a86f3c412b36d6abbbb0f3f77 .thumbnail { background-image: url(https://onthedock.github.io/images/jenkins.png);  }  .article-8fd0d0535b25566772d8bfcab456999e .thumbnail { background-image: url(https://onthedock.github.io/images/gogs.png);  }  .article-9d852d24f77755909ea56d2ce72cb408 .thumbnail { background-image: url(https://onthedock.github.io/images/jenkins.png);  }  .article-015f92caa0da0be71b6008713be0e15f .thumbnail { background-image: url(https://onthedock.github.io/images/gogs.png);  }  .article-b40404c5768e20c9cf4a0ef9b40d5d8c .thumbnail { background-image: url(https://onthedock.github.io/images/jenkins.png);  }  .article-56679bf127fa712be78799b59e8ebcbe .thumbnail { background-image: url(https://onthedock.github.io/images/jenkins.png);  }  .article-c926846ccb5ddda2e607d41a7eed1e7e .thumbnail { background-image: url(https://onthedock.github.io/images/jenkins.png);  }  .article-439d0c4b480f76cd3e4e59c497020808 .thumbnail { background-image: url(https://onthedock.github.io/images/linux.png);  }  .article-ca9a82a3e9074b202ea71b79b8f06d72 .thumbnail { background-image: url(https://onthedock.github.io/images/linux.png);  }  .article-5dd2fbecd3c1861b16d6ccbae8458692 .thumbnail { background-image: url(https://onthedock.github.io/images/docker.png);  }  .article-d27ecb2023ff85d0423abc98d4d8ded4 .thumbnail { background-image: url(https://onthedock.github.io/images/portainer.png);  }  .article-82fdfab1e200b6fc1a28801ee717993c .thumbnail { background-image: url(https://onthedock.github.io/images/jenkins.png);  }  .article-ff3cf8144aa52ea6d7195126da8ce676 .thumbnail { background-image: url(https://onthedock.github.io/images/linux.png);  }  .article-88a2b37925efc71e7f9ec017570e19f0 .thumbnail { background-image: url(https://onthedock.github.io/images/vagrant.png);  }  .article-f22b7fd29e14db2fbd6cd579c2a0d5c9 .thumbnail { background-image: url(https://onthedock.github.io/images/vagrant.png);  }  .article-fc9c9a2b1dcd0c5683f7adbafda8f7c8 .thumbnail { background-image: url(https://onthedock.github.io/images/vagrant.png);  }  .article-a45fe2c1cdbadc45cbf34a63ab37ebcc .thumbnail { background-image: url(https://onthedock.github.io/images/linux.png);  }  .article-9e27e7f162c2feae804cbc006c1c9349 .thumbnail { background-image: url(https://onthedock.github.io/images/MabelAmber-mini.png);  }  .article-2a7b6b0759e163accb88c9261e4c0bbf .thumbnail { background-image: url(https://onthedock.github.io/images/docker.png);  }  .article-340e5d68f76888b0b8debb38ef25d46b .thumbnail { background-image: url(https://onthedock.github.io/images/docker.png);  }  .article-2fc73bdfb18aaf2eb89944fb4f7d53de .thumbnail { background-image: url(https://onthedock.github.io/images/gogs.png);  }  .article-70a1a0028c7c78526f004c0e3218a2b3 .thumbnail { background-image: url(https://onthedock.github.io/images/kubernetes.png);  }  .article-f81b2bb759a18deaa3b5575087686fe7 .thumbnail { background-image: url(https://onthedock.github.io/images/gogs.png);  }  .article-156dcec052e59d7d9f0de2250fda46f4 .thumbnail { background-image: url(https://onthedock.github.io/images/dokuwiki-on-docker.png);  }  .article-f831baebaad56b8e3d70750749393da3 .thumbnail { background-image: url(https://onthedock.github.io/images/kubernetes.png);  }  .article-df14f92fc6edab1c8632e66ef7c7e5a6 .thumbnail { background-image: url(https://onthedock.github.io/images/linux.png);  }  .article-516ab75e14eb7886aaab03ff75dbfc6b .thumbnail { background-image: url(https://onthedock.github.io/images/docker.png);  }  .article-d1ead2ec3d26cb7f91ef8234915eb13f .thumbnail { background-image: url(https://onthedock.github.io/images/docker.png);  }  .article-0b9c6f0820f2306f6cc2bfd170dccb8e .thumbnail { background-image: url(https://onthedock.github.io/images/docker.png);  }  .article-1cbc9cfd0ad3798b23d19eac020b3153 .thumbnail { background-image: url(https://onthedock.github.io/images/docker.png);  }  .article-a32274b07ce43fef61c7f19e4b68f650 .thumbnail { background-image: url(https://onthedock.github.io/images/linux.png);  }  .article-9b0b3a180af20b5c091134d23cb6d383 .thumbnail { background-image: url(https://onthedock.github.io/images/minio.jpg);  }  .article-b20735633157cb1e57eb0c1d05406149 .thumbnail { background-image: url(https://onthedock.github.io/images/kubernetes.png);  }  .article-d1e335a06f765bffda53d2e123044b27 .thumbnail { background-image: url(https://onthedock.github.io/images/kubernetes.png);  }  .article-c36c64b9d6ce0d2c95381976831c3160 .thumbnail { background-image: url(https://onthedock.github.io/images/kubernetes.png);  }  .article-ee7d8acecc9de179b9d1cecb3d253215 .thumbnail { background-image: url(https://onthedock.github.io/images/kubernetes.png);  }  .article-2480be47fe45cfc13b07c86c32ed8cda .thumbnail { background-image: url(https://onthedock.github.io/images/kubernetes.png);  }  .article-99a6578fdc273f40a61d182bcb5917c4 .thumbnail { background-image: url(https://onthedock.github.io/images/kubernetes.png);  }  .article-3ffff09a2dd1f953bbb8624d88756829 .thumbnail { background-image: url(https://onthedock.github.io/images/kubernetes.png);  }  .article-0a9cef5c4637bd946188e37439fef69c .thumbnail { background-image: url(https://onthedock.github.io/images/kubernetes.png);  }  .article-42a206d287914317761f7749b964ddb2 .thumbnail { background-image: url(https://onthedock.github.io/images/alpine.png);  }  .article-85dee6c250520e561ebc93740f1d514f .thumbnail { background-image: url(https://onthedock.github.io/images/alpine.png);  }  .article-a65000ba68f97000bb927be3f88f75bd .thumbnail { background-image: url(https://onthedock.github.io/images/kubernetes.png);  }  .article-2de6ff3b0144ea18b2ef056107448a33 .thumbnail { background-image: url(https://onthedock.github.io/images/yaml.png);  }  .article-a8aea2191f0d8d238ab6217feba51ac3 .thumbnail { background-image: url(https://onthedock.github.io/images/vagrant.png);  }  .article-67cd76b76e108b6604b344e92a3c329a .thumbnail { background-image: url(https://onthedock.github.io/images/docker.png);  }  .article-d341a5f8cd54b9da7a3a6d1168365c25 .thumbnail { background-image: url(https://onthedock.github.io/images/kubernetes.png);  }  .article-59e1fe22eaedce05afe517780f87cc98 .thumbnail { background-image: url(https://onthedock.github.io/images/docker.png);  }  .article-87ee3835fe3b255e8566c3bfed2bd38b .thumbnail { background-image: url(https://onthedock.github.io/images/portainer.png);  }  .article-086bb6242700303c8a958c5e74df0ca9 .thumbnail { background-image: url(https://onthedock.github.io/images/docker.png);  }  .article-4c6b9124141ca1a8135b9177248b7e15 .thumbnail { background-image: url(https://onthedock.github.io/images/hugo.png);  }  .article-911698c11286b3ef9eb1a11440c09845 .thumbnail { background-image: url(https://onthedock.github.io/images/kubernetes.png);  }  .article-6a0861472d6f0696079c81e3710d5fe8 .thumbnail { background-image: url(https://onthedock.github.io/images/kubernetes.png);  }  .article-40b8655184d8e4a2ca3650aece49e845 .thumbnail { background-image: url(https://onthedock.github.io/images/kubernetes.png);  }  .article-857a5f627557e7d92f1386f7c6e04dee .thumbnail { background-image: url(https://onthedock.github.io/images/raspberry_pi.png);  }  .article-4db85da082f771e8fb9029adad4173ec .thumbnail { background-image: url(https://onthedock.github.io/images/raspberry_pi.png);  }  .article-b69159ccecf58bff548bbd08481b6e15 .thumbnail { background-image: url(https://onthedock.github.io/images/raspberry_pi.png);  }  .article-da222607e970c37b0b59d8011a2e3398 .thumbnail { background-image: url(https://onthedock.github.io/images/portainer.png);  }  .article-7b36708a64c36890ceb1bf481f3de1fa .thumbnail { background-image: url(https://onthedock.github.io/images/kubernetes.png);  }  .article-d68e08dcca5eafff4ae0d8d06280bf02 .thumbnail { background-image: url(https://onthedock.github.io/images/kubernetes.png);  }  .article-8ff87e4d24c357bbee842dd088ef4cde .thumbnail { background-image: url(https://onthedock.github.io/images/kubernetes.png);  }  .article-d0ca4b0abe6c0c6d22baa800e3fc9935 .thumbnail { background-image: url(https://onthedock.github.io/images/kubernetes.png);  }  .article-63c13529eb1936073e0adc09d7e35b59 .thumbnail { background-image: url(https://onthedock.github.io/images/kubernetes.png);  }  .article-2e821bde62a219fe0b94f62e989269e7 .thumbnail { background-image: url(https://onthedock.github.io/images/docker.png);  }  .article-df564c824db9099fd85c925ad9635cda .thumbnail { background-image: url(https://onthedock.github.io/images/raspberry_pi.png);  }  .article-203d2d443889d9d70ca2ad9abcca49aa .thumbnail { background-image: url(https://onthedock.github.io/images/docker.png);  }  .article-526bade0815ac377e81216604b97c5f7 .thumbnail { background-image: url(https://onthedock.github.io/images/github.png);  }  .article-3d9c586728a0009cb0621b0368120462 .thumbnail { background-image: url(https://onthedock.github.io/images/hugo.png);  }  .article-160ee3ec04bb73e590f125b42640b34b .thumbnail { background-image: url(https://onthedock.github.io/images/hugo.png);  }  .article-c862ac2fb3511b386b4247a80aa6b90b .thumbnail { background-image: url(https://onthedock.github.io/images/linux.png);  }  .article-8a50a2d4216b1a3b2b46c646bd24c5e9 .thumbnail { background-image: url(https://onthedock.github.io/images/linux.png);  }  .article-f027d2889032f918da8e3cc9c03169e0 .thumbnail { background-image: url(https://onthedock.github.io/images/linux.png);  }  .article-6db4ecfe853552466ce5a71b1221a2a0 .thumbnail { background-image: url(https://onthedock.github.io/images/hypriot.png);  } 
    </style>
  </head>

  <body>
    
    
    

    <header class="l-header">
      <div class="l-container">
        <div class="h-logo p-logo">
          <a href="https://onthedock.github.io/" class="h-logo">On The Dock</a>
          <p class="h-logo">Un blog sobre el Cloud, Kubernetes, DevOps, Docker y Raspberry Pi por Xavier Aznar</p>
        </div>
      </div>
    </header>

    <main>
      
<div class="l-container">
  <article class="single article-2fc73bdfb18aaf2eb89944fb4f7d53de">
  <div class="header-wrapper">
    <a href="https://onthedock.github.io/post/171118-gogs-no-arranca-en-rpi/" class="thumbnail" title="Gogs No Arranca en la Raspberry Pi después de la configuración inicial"></a>
    <header class="article-header">
      <div class="clearfix">
        <h1 class="title">Gogs No Arranca en la Raspberry Pi después de la configuración inicial</h1>
        <ul class="p-facts">
          <li><time datetime="2017-11-18T22:34:59JST">18 Nov 2017</time></li>
          <li><a href="https://onthedock.github.io/post/">post</a></li>
          
          <li>Xavier Aznar</li>
        </ul>
      </div>
    </header>
  </div>

  <div class="article-body"><p>En la entrada <a href="https://onthedock.github.io/post/171106-gogs-como-crear-tu-propio-servicio-de-hospedaje-de-repos-git/">Gogs - Cómo crear tu propio servicio de hospedaje de repositorios Git</a> describía cómo montar un servicio como GitHub usando Gogs.</p>

<p>Hoy he intentado montar lo mismo sobre la Raspberry Pi aprovechando que Gogs ofrece una imagen específica: <a href="https://hub.docker.com/r/gogs/gogs-rpi/">gogs/gogs-rpi</a>,</p>

<p>Después de arrancar el contenedor y realizar la configuración inicial de Gogs, he querido deshabilitar la funcionalidad de auto-registro.</p>

<p>La configuración de Gogs no puede realizarse (Gogs 0.11.29) desde la interfaz gráfica. Para realizar cualquier modificación en la configuración es necesario modificar el fichero <code>conf/app.ini</code>.</p>

<p>Para que los cambios sean efectivos, es necesario reiniciar Gogs, lo que em mi caso significa parar y arrancar de nuevo el contenedor.</p>

<p>Pero al arrancar de nuevo, la interfaz web no se muestra:</p>

<figure>
  <amp-img src="https://onthedock.github.io/images/171118/not-found.png" alt="Gogs No Arranca en la Raspberry Pi después de la configuración inicial images/171118/not-found.png" width=640 height=400 layout="responsive"></amp-img>
  
</figure>

<p>He comprobado que el contenedor estaba arrancado y he consultado los logs, que no muestran nada anormal:</p>

<pre><code class="language-logs">...
[Macaron] 2017-11-18 16:29:18: Started POST /install for 192.168.1.206
2017/11/18 16:29:18 [TRACE] Session ID: 36be09fb40f384ee
2017/11/18 16:29:18 [TRACE] CSRF Token: KLiCQ33Lhr8dUcRDPBVaaCDJBRM6MTUxMTAyMjIxOTUwMzkxNDYyMA==
2017/11/18 16:29:20 [TRACE] Custom path: /data/gogs
2017/11/18 16:29:20 [TRACE] Log path: /app/gogs/log
2017/11/18 16:29:20 [TRACE] Build Time: 2017-08-15 11:47:11 UTC
2017/11/18 16:29:20 [TRACE] Build Git Hash:
2017/11/18 16:29:20 [TRACE] Log Mode: File (Trace)
2017/11/18 16:29:20 [ INFO] Gogs 0.11.29.0727
[Macaron] 2017-11-18 16:29:21: Completed POST /install 302 Found in 3.248179882s
[Macaron] 2017-11-18 16:29:22: Started GET /user/login for 192.168.1.206
[Macaron] 2017-11-18 16:29:22: Completed GET /user/login 302 Found in 9.911956ms
[Macaron] 2017-11-18 16:29:22: Started GET / for 192.168.1.206
[Macaron] 2017-11-18 16:29:22: Completed GET / 200 OK in 107.641008ms
[Macaron] 2017-11-18 16:29:22: Started GET /img/favicon.png for 192.168.1.206
[Macaron] [Static] Serving /img/favicon.png
[Macaron] 2017-11-18 16:29:22: Completed GET /img/favicon.png 200 OK in 2.680918ms
[Macaron] 2017-11-18 16:29:22: Started GET /avatars/1 for 192.168.1.206
[Macaron] [Static] Serving /1
[Macaron] 2017-11-18 16:29:22: Completed GET /avatars/1 200 OK in 1.734935ms
[Macaron] 2017-11-18 16:29:22: Started GET /assets/octicons-4.3.0/octicons.woff2?ef21c39f0ca9b1b5116e5eb7ac5eabe6 for 192.168.1.206
[Macaron] [Static] Serving /assets/octicons-4.3.0/octicons.woff2
[Macaron] 2017-11-18 16:29:22: Completed GET /assets/octicons-4.3.0/octicons.woff2?ef21c39f0ca9b1b5116e5eb7ac5eabe6 200 OK in 6.758595ms
[Macaron] 2017-11-18 16:29:30: Started GET /user/logout for 192.168.1.206
[Macaron] 2017-11-18 16:29:30: Completed GET /user/logout 302 Found in 8.500196ms
[Macaron] 2017-11-18 16:29:30: Started GET / for 192.168.1.206
[Macaron] 2017-11-18 16:29:30: Completed GET / 200 OK in 19.206313ms
Nov 18 16:29:39 syslogd exiting
Nov 18 16:29:51 syslogd started: BusyBox v1.25.1
Nov 18 16:29:51 sshd[26]: Server listening on :: port 22.
Nov 18 16:29:51 sshd[26]: Server listening on 0.0.0.0 port 22.
2017/11/18 16:29:51 [TRACE] Custom path: /data/gogs
2017/11/18 16:29:51 [TRACE] Log path: /app/gogs/log
2017/11/18 16:29:51 [TRACE] Build Time: 2017-08-15 11:47:11 UTC
2017/11/18 16:29:51 [TRACE] Build Git Hash:
2017/11/18 16:29:51 [TRACE] Log Mode: File (Trace)
2017/11/18 16:29:51 [ INFO] Gogs 0.11.29.0727
</code></pre>

<p>He intentado conectar a una <em>shell</em> dentro del contenedor pero no lo he conseguido. (<em>Update: Más tarde he pensado que la imagen está basada en Alpine y <code>/bin/sh</code> no existe, pero no he probado <code>/bin/ash</code>:(</em>)</p>

<p>Revisando los <em>issues</em> abiertos para Gogs he encontrado <a href="https://github.com/gogits/gogs/issues/4796">Raspberry pi docker image is broken #4796</a>, pero como no hay ninguna respuesta, no he podido avanzar más. El usuario <code>schvabodka-man</code> también usa una Raspberry Pi 3, mientras que la imagen está construida para una Raspberry Pi 2, pero esto no debería suponer un problema.</p>

<p>He confirmado que en el contenedor creado a partir de <code>gogs/gogs</code> no se reproduce el problema.</p>

<p>Dado que el usuario con el que corre Gogs en el contenedor es el usuario <code>git</code> -diferente al usuario con permisos sobre la carpeta del volumen en la RPi- he dado permisos <em>full</em> sobre la carpeta a todo el mundo con <code>sudo chmod -R 777 /shared/gogs</code>, pero tampoco ha supuesto ninguna diferencia.</p>

<p>La conexión a través de SSH para Git parecía funcionar, pero tampoco he realizado demasiadas pruebas en esta dirección, ya que parece algún problema con el interfaz web.</p>

<p>La única forma en la que he conseguido devolver a la vida la interfaz web ha sido borrando el fichero <code>app.ini</code> y configurando Gogs de nuevo :(</p>

<h1 id="actualización-19-11-2017">Actualización (19/11/2017)</h1>

<p>He descargado la imagen <code>gogs/gogs</code> (0.11.29) en el equipo de laboratorio (x64):</p>

<pre><code class="language-shell">$ docker images
REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE
gogs/gogs           0.11.29             111330b56503        15 hours ago        139MB
gogs/gogs           latest              111330b56503        15 hours ago        139MB
</code></pre>

<p>He lanzado un contenedor pero para mi sorpresa, tampoco he conseguido hacerlo funcionar, siendo imposible conectar al interfaz web (lo mismo que me ocurría en la RPi). He seguido las mismas instrucciones que en la entrada <a href="https://onthedock.github.io/post/171106-gogs-como-crear-tu-propio-servicio-de-hospedaje-de-repos-git/">Gogs - Cómo crear tu propio servicio de hospedaje de repositorios Git</a>), pero no ha habido manera.</p>

<p>He modificado los puertos, he dado permisos <em>full</em> a todo el mundo (chmod -R 777 sobre <code>/shared/gogs/</code>) sin éxito, he creado una carpeta dentro la home del usuario <code>operador</code>&hellip; Nada ha funcionado.</p>

<p>He comprobado que la imagen está basada en Alpine Linux, por lo que finalmente sí que he podido acceder mediante <code>docker exec -it /bin/ash</code>, pero no he averiguado nada relevante.</p>

<p>Finalmente se me ha ocurrido lanzar el contenedor sin pasarlo a segundo plano (omitiendo el parámetro <code>-d</code>), de manera que la salida se mostraba en la línea de comandos.</p>

<p>De esta forma he observado mensajes de error en la salida por pantalla. Y aunque los errores se muestran al ejecutar <code>docker logs gogs</code>, cuando redirijo la salida del comando a un fichero  (<code>docker logs gogs &gt; docker-gogs.log</code> no se registran los mensajes de error (aunque parece que está en un bucle infinito, que se va repitiendo constantemente):</p>

<pre><code class="language-shell">$ cat test.log
Nov 19 19:37:32 syslogd started: BusyBox v1.25.1
Nov 19 19:37:32 sshd[31]: Server listening on :: port 22.
Nov 19 19:37:32 sshd[31]: Server listening on 0.0.0.0 port 22.
2017/11/19 19:37:50 [ WARN] Custom config '/data/gogs/conf/app.ini' not found, ignore this if you're running first time
2017/11/19 19:37:50 [TRACE] Custom path: /data/gogs
2017/11/19 19:37:50 [TRACE] Log path: /app/gogs/log
2017/11/19 19:37:50 [TRACE] Build Time: 2017-11-19 04:16:46 UTC
2017/11/19 19:37:50 [TRACE] Build Git Hash:
2017/11/19 19:37:50 [TRACE] Log Mode: Console (Trace)
2017/11/19 19:37:50 [ INFO] Gogs 0.11.33.1116
2017/11/19 19:37:50 [ INFO] Cache Service Enabled
2017/11/19 19:37:50 [ INFO] Session Service Enabled
2017/11/19 19:37:50 [ INFO] SQLite3 Supported
2017/11/19 19:37:50 [ INFO] Run Mode: Development
2017/11/19 19:37:50 [ WARN] Custom config '/data/gogs/conf/app.ini' not found, ignore this if you're running first time
2017/11/19 19:37:50 [TRACE] Custom path: /data/gogs
2017/11/19 19:37:50 [TRACE] Log path: /app/gogs/log
2017/11/19 19:37:50 [TRACE] Build Time: 2017-11-19 04:16:46 UTC
2017/11/19 19:37:50 [TRACE] Build Git Hash:
2017/11/19 19:37:50 [TRACE] Log Mode: Console (Trace)
2017/11/19 19:37:50 [ INFO] Gogs 0.11.33.1116
2017/11/19 19:37:50 [ INFO] Cache Service Enabled
2017/11/19 19:37:50 [ INFO] Session Service Enabled
2017/11/19 19:37:50 [ INFO] SQLite3 Supported
2017/11/19 19:37:50 [ INFO] Run Mode: Development
2017/11/19 19:37:51 [ WARN] Custom config '/data/gogs/conf/app.ini' not found, ignore this if you're running first time
2017/11/19 19:37:51 [TRACE] Custom path: /data/gogs
2017/11/19 19:37:51 [TRACE] Log path: /app/gogs/log
2017/11/19 19:37:51 [TRACE] Build Time: 2017-11-19 04:16:46 UTC
2017/11/19 19:37:51 [TRACE] Build Git Hash:
</code></pre>

<p>En estas pruebas que estoy realizando, el fichero <code>app.ini</code> no se llega a crear (tampoco la base de datos SQLite, <code>gogs.db</code>). Esto me ha llevado a pensar en un problema de permisos, pero tampoco se ha creado cuando he asignado permisos a todo el mundo (777).</p>

<p>Para comprobar esta hipótesis he lanzado el contenedor sin montar ningún volumen (es decir, haciendo que la base de datos se genere <em>dentro</em> del propio contenedor).</p>

<pre><code class="language-shell">docker run -d -p 8022:22 -p 3000:3000 gogs/gogs
</code></pre>

<p>Pero tampoco he tenido éxito.</p>

<p>Pensaba que los errores que he visto desfilar por pantalla los causaba el intento de conectar a la URL de Gogs. Después de crear el contenedor y esperar un rato (unos 5 o 10 segundos), he visto que el error aparecía de forma espontánea.</p>

<p>Dado que <code>docker logs gogs &gt; errores.log</code> no escribe los errores en el log, he optado por crear un contenedor mediante <code>docker run --name gogs -p 8022:22 p:3000:3000 gogs/gogs</code> y esperar&hellip;</p>

<blockquote>
<p>Revisando los <em>issues</em> en GitHub, parece que es un error conocido que se trata como <em>mejora</em> :<a href="https://github.com/gogits/gogs/issues/1022">Panics should get logged</a></p>
</blockquote>

<p>Al haber lanzado el contenedor sin <code>-d</code>, los mensajes se muestran por pantalla, de donde he hecho un <em>copy &amp; paste</em>:</p>

<pre><code class="language-shell"> docker run --name gogs -p 3000:3000 gogs/gogs
usermod: no changes
Nov 19 19:37:32 syslogd started: BusyBox v1.25.1
Nov 19 19:37:32 sshd[31]: Server listening on :: port 22.
Nov 19 19:37:32 sshd[31]: Server listening on 0.0.0.0 port 22.
2017/11/19 19:37:50 [ WARN] Custom config '/data/gogs/conf/app.ini' not found, ignore this if you're running first time
2017/11/19 19:37:50 [TRACE] Custom path: /data/gogs
2017/11/19 19:37:50 [TRACE] Log path: /app/gogs/log
2017/11/19 19:37:50 [TRACE] Build Time: 2017-11-19 04:16:46 UTC
2017/11/19 19:37:50 [TRACE] Build Git Hash:
2017/11/19 19:37:50 [TRACE] Log Mode: Console (Trace)
2017/11/19 19:37:50 [ INFO] Gogs 0.11.33.1116
2017/11/19 19:37:50 [ INFO] Cache Service Enabled
2017/11/19 19:37:50 [ INFO] Session Service Enabled
2017/11/19 19:37:50 [ INFO] SQLite3 Supported
2017/11/19 19:37:50 [ INFO] Run Mode: Development
panic: fail to set message file(sk-SK): open conf/locale/locale_sk-SK.ini: no such file or directory

goroutine 1 [running]:
github.com/gogits/gogs/vendor/github.com/go-macaron/i18n.initLocales(0xc4200b8f15, 0x0, 0xf8b4a5, 0xb, 0xc420814270, 0xc42080c060, 0x16, 0xc4204224e0, 0x1a, 0x1a, ...)
	/tmp/go/src/github.com/gogits/gogs/vendor/github.com/go-macaron/i18n/i18n.go:57 +0x5ff
github.com/gogits/gogs/vendor/github.com/go-macaron/i18n.I18n(0xc420072540, 0x1, 0x1, 0xc42080c060, 0x16)
	/tmp/go/src/github.com/gogits/gogs/vendor/github.com/go-macaron/i18n/i18n.go:158 +0xee
github.com/gogits/gogs/cmd.newMacaron(0xc42043a140)
	/tmp/go/src/github.com/gogits/gogs/cmd/web.go:130 +0xab5
github.com/gogits/gogs/cmd.runWeb(0xc42043a140, 0x0, 0xc42043a140)
	/tmp/go/src/github.com/gogits/gogs/cmd/web.go:166 +0x74
github.com/gogits/gogs/vendor/github.com/urfave/cli.HandleAction(0xe631e0, 0xfc7d78, 0xc42043a140, 0xc420428400, 0x0)
	/tmp/go/src/github.com/gogits/gogs/vendor/github.com/urfave/cli/app.go:483 +0xb9
github.com/gogits/gogs/vendor/github.com/urfave/cli.Command.Run(0xf7ee8d, 0x3, 0x0, 0x0, 0x0, 0x0, 0x0, 0xf92aef, 0x10, 0x0, ...)
	/tmp/go/src/github.com/gogits/gogs/vendor/github.com/urfave/cli/command.go:193 +0xb72
github.com/gogits/gogs/vendor/github.com/urfave/cli.(*App).Run(0xc42010ba00, 0xc42000c140, 0x2, 0x2, 0x0, 0x0)
	/tmp/go/src/github.com/gogits/gogs/vendor/github.com/urfave/cli/app.go:250 +0x7d0
main.main()
	/tmp/go/src/github.com/gogits/gogs/gogs.go:41 +0x3ea
2017/11/19 19:37:50 [ WARN] Custom config '/data/gogs/conf/app.ini' not found, ignore this if you're running first time
2017/11/19 19:37:50 [TRACE] Custom path: /data/gogs
2017/11/19 19:37:50 [TRACE] Log path: /app/gogs/log
2017/11/19 19:37:50 [TRACE] Build Time: 2017-11-19 04:16:46 UTC
2017/11/19 19:37:50 [TRACE] Build Git Hash:
2017/11/19 19:37:50 [TRACE] Log Mode: Console (Trace)
2017/11/19 19:37:50 [ INFO] Gogs 0.11.33.1116
2017/11/19 19:37:50 [ INFO] Cache Service Enabled
2017/11/19 19:37:50 [ INFO] Session Service Enabled
2017/11/19 19:37:50 [ INFO] SQLite3 Supported
2017/11/19 19:37:50 [ INFO] Run Mode: Development
panic: fail to set message file(sk-SK): open conf/locale/locale_sk-SK.ini: no such file or directory

goroutine 1 [running]:
github.com/gogits/gogs/vendor/github.com/go-macaron/i18n.initLocales(0xc4200b8ef5, 0x0, 0xf8b4a5, 0xb, 0xc42081e510, 0xc4206ff4e0, 0x16, 0xc4204224e0, 0x1a, 0x1a, ...)
	/tmp/go/src/github.com/gogits/gogs/vendor/github.com/go-macaron/i18n/i18n.go:57 +0x5ff
github.com/gogits/gogs/vendor/github.com/go-macaron/i18n.I18n(0xc420072540, 0x1, 0x1, 0xc4206ff4e0, 0x16)
	/tmp/go/src/github.com/gogits/gogs/vendor/github.com/go-macaron/i18n/i18n.go:158 +0xee
github.com/gogits/gogs/cmd.newMacaron(0xc42043a140)
	/tmp/go/src/github.com/gogits/gogs/cmd/web.go:130 +0xab5
github.com/gogits/gogs/cmd.runWeb(0xc42043a140, 0x0, 0xc42043a140)
	/tmp/go/src/github.com/gogits/gogs/cmd/web.go:166 +0x74
github.com/gogits/gogs/vendor/github.com/urfave/cli.HandleAction(0xe631e0, 0xfc7d78, 0xc42043a140, 0xc420428400, 0x0)
	/tmp/go/src/github.com/gogits/gogs/vendor/github.com/urfave/cli/app.go:483 +0xb9
github.com/gogits/gogs/vendor/github.com/urfave/cli.Command.Run(0xf7ee8d, 0x3, 0x0, 0x0, 0x0, 0x0, 0x0, 0xf92aef, 0x10, 0x0, ...)
	/tmp/go/src/github.com/gogits/gogs/vendor/github.com/urfave/cli/command.go:193 +0xb72
github.com/gogits/gogs/vendor/github.com/urfave/cli.(*App).Run(0xc420109a00, 0xc42000c140, 0x2, 0x2, 0x0, 0x0)
	/tmp/go/src/github.com/gogits/gogs/vendor/github.com/urfave/cli/app.go:250 +0x7d0
main.main()
	/tmp/go/src/github.com/gogits/gogs/gogs.go:41 +0x3ea
2017/11/19 19:37:51 [ WARN] Custom config '/data/gogs/conf/app.ini' not found, ignore this if you're running first time
2017/11/19 19:37:51 [TRACE] Custom path: /data/gogs
2017/11/19 19:37:51 [TRACE] Log path: /app/gogs/log
2017/11/19 19:37:51 [TRACE] Build Time: 2017-11-19 04:16:46 UTC
2017/11/19 19:37:51 [TRACE] Build Git Hash:
2017/11/19 19:37:51 [TRACE] Log Mode: Console (Trace)
2017/11/19 19:37:51 [ INFO] Gogs 0.11.33.1116
2017/11/19 19:37:51 [ INFO] Cache Service Enabled
2017/11/19 19:37:51 [ INFO] Session Service Enabled
2017/11/19 19:37:51 [ INFO] SQLite3 Supported
2017/11/19 19:37:51 [ INFO] Run Mode: Development
panic: fail to set message file(sk-SK): open conf/locale/locale_sk-SK.ini: no such file or directory
...
^C
Nov 19 19:37:55 sshd[31]: Received signal 15; terminating.
Nov 19 19:37:55 syslogd exiting
</code></pre>

<p>En los logs -que he truncado- se repite una y otra vez el mismo patrón: el contenedor arranca con normalidad, pero pasados unos veinte segundos, aparece un mensaje de pánico al no encontrar un fichero de localización para el idioma sk-SK (¿¡!?) <code>panic: fail to set message file(sk-SK): open conf/locale/locale_sk-SK.ini: no such file or directory</code>. Este mensaje de error desencadena una serie de mensajes de error de Go&hellip; Hasta que, de nuevo, se vuelve a alertar de la ausencia del fichero de configuración <code>app.ini</code> y vuelta a empezar.</p>

<blockquote>
<p>Revisando los <em>issues</em> cerrados, el <a href="https://github.com/gogits/gogs/issues/4876">Docker won&rsquo;t create/init files #4876</a> que describe exactamente la situación descrita, se ha cerrado hace 3h!!</p>
</blockquote>

<p>He revisado en DockerHub y, efectivamente, la imagen para la versión 0.11.33 se ha construido automáticamente hace apenas dos horas&hellip;</p>

<figure>
  <amp-img src="https://onthedock.github.io/images/171118/gogs-image-2h-ago.png" alt="Gogs No Arranca en la Raspberry Pi después de la configuración inicial images/171118/gogs-image-2h-ago.png" width=808 height=573 layout="responsive"></amp-img>
  
</figure>

<p>Y a todo esto, tengo problemas para descargar la última versión:</p>

<pre><code class="language-shell">$ docker pull gogs/gogs
Using default tag: latest
Error response from daemon: Get https://registry-1.docker.io/v2/: dial tcp: lookup registry-1.docker.io on [::1]:53: read udp [::1]:52357-&gt;[::1]:53: read: connection refused
</code></pre>

<p>La <a href="https://github.com/docker/for-mac/issues/1317">solución</a> pasa por desinstalar y volver a instalar Docker (¿¡!?) y cuando lo intento descubro que la máquina virtual tiene algún problema con la resolución de nombres (usando los DNSs de Google (¡¡¿¿??!!)), así que después de cambiar de nuevo a IP dinámica, reiniciar, recuperar la conectividad, reinstalar Docker, descargar la última versión de la imagen de Gogs (0.11.33) la página de configuración vuelve a mostrarse.</p>

<figure>
  <amp-img src="https://onthedock.github.io/images/171118/gogs-back-to-live.png" alt="Gogs No Arranca en la Raspberry Pi después de la configuración inicial images/171118/gogs-back-to-live.png" width=914 height=411 layout="responsive"></amp-img>
  
</figure>

<p>En cuanto a la imagen para Raspberry Pi, también se ha construido una nueva versión:</p>

<figure>
  <amp-img src="https://onthedock.github.io/images/171118/gogs-rpi-image-4min-ago.png" alt="Gogs No Arranca en la Raspberry Pi después de la configuración inicial images/171118/gogs-rpi-image-4min-ago.png" width=716 height=483 layout="responsive"></amp-img>
  
</figure>

<p>Después de comprobar que todo ha sido un problema puntual, he vuelto a establecer IP estática en el <em>host</em> y he verificado que Gogs sigue arrancando después de parar el contenedor (y de modificar la configuración).</p>

<h2 id="resumen">Resumen</h2>

<p>En pocas palabras, <strong>mala suerte</strong>; al parecer, por un problema de <em>timing</em>, la imagen de Gogs tenía algún problema. No acabo de enteneder cómo la prueba del otro día funcionó.</p>

<p>Parece que con esta nueva versión de la imagen de Gogs, Gogs funciona como se espera. Así que probaré de nueva con la RPi (y con el equipo del laboratorio).</p></div>

  <aside class="p-share">
  <a href="http://twitter.com/intent/tweet?url=https%3a%2f%2fonthedock.github.io%2fpost%2f171118-gogs-no-arranca-en-rpi%2f&text=Gogs%20No%20Arranca%20en%20la%20Raspberry%20Pi%20despu%c3%a9s%20de%20la%20configuraci%c3%b3n%20inicial&tw_p=tweetbutton" title="Twitterでシェア" class="tw" target="_blank" rel="nofollow"></a>
  <a href="http://www.facebook.com/sharer.php?u=https%3a%2f%2fonthedock.github.io%2fpost%2f171118-gogs-no-arranca-en-rpi%2f&t=Gogs%20No%20Arranca%20en%20la%20Raspberry%20Pi%20despu%c3%a9s%20de%20la%20configuraci%c3%b3n%20inicial" title="Facebookでシェア" class="fb" target="_blank" rel="nofollow"></a>
  <a href="http://line.me/R/msg/text/?Gogs%20No%20Arranca%20en%20la%20Raspberry%20Pi%20despu%c3%a9s%20de%20la%20configuraci%c3%b3n%20inicial https%3a%2f%2fonthedock.github.io%2fpost%2f171118-gogs-no-arranca-en-rpi%2f" title="LINEでシェア" class="ln" target="_blank" rel="nofollow"></a>
  <a href="http://b.hatena.ne.jp/add?mode=confirm&url=https%3a%2f%2fonthedock.github.io%2fpost%2f171118-gogs-no-arranca-en-rpi%2f&title=Gogs%20No%20Arranca%20en%20la%20Raspberry%20Pi%20despu%c3%a9s%20de%20la%20configuraci%c3%b3n%20inicial" title="はてなブックマーク" class="ht" target="_blank" rel="nofollow"></a>
  <div class="searchbar">
      <iframe src="https://duckduckgo.com/search.html?site=https://onthedock.github.io/&prefill=Busca en este sitio usando DuckDuckGo" style="width: 25em;height: 48px" frameborder="0"></iframe>
    </div>
</aside>


  <footer class="article-footer">
    <section>
      <ol class="p-crumb">
        <li><a href="https://onthedock.github.io/">On The Dock</a></li>
        
        <li itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb"><a href="https://onthedock.github.io/post/" itemprop="url"><span itemprop="title">post</span></a></li>
        
        <li>Gogs No Arranca en la Raspberry Pi después de la configuración inicial</li>
      </ol>

      
      
      
      <ul class="p-facts">
        <li>
          <header><a href="https://onthedock.github.io/categories/">categories</a></header>
          <ul>
            
            <li><a href="https://onthedock.github.io/categories/dev/">dev</a></li>
            
            <li><a href="https://onthedock.github.io/categories/ops/">ops</a></li>
            
          </ul>
        </li>
      </ul>
      
      
      
      <ul class="p-facts">
        <li>
          <header><a href="https://onthedock.github.io/tags/">tags</a></header>
          <ul>
            
            <li><a href="https://onthedock.github.io/tags/raspberry-pi/">raspberry pi</a></li>
            
            <li><a href="https://onthedock.github.io/tags/docker/">docker</a></li>
            
            <li><a href="https://onthedock.github.io/tags/gogs/">gogs</a></li>
            
          </ul>
        </li>
      </ul>
      
      
    </section>
  </footer>
</article>

<article>
  <div id="disqus_thread"></div>
  <script>
  
  

  

  (function() { 
  var d = document, s = d.createElement('script');
  s.src = 'https://onthedock.disqus.com/embed.js';
  s.setAttribute('data-timestamp', +new Date());
  (d.head || d.body).appendChild(s);
  })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
                              

</article>



  
  
  <section>
    <header><span>Latests</span></header>
    <ul class="p-articles thin">
      <li><article class="li sm article-b5774c1af73ca2d2b4752dba3cca3af5">
  <div class="header-wrapper">
    <a href="https://onthedock.github.io/post/201013-instalar-mkdocs-en-alpine/" class="thumbnail" title="[Solucionado] Instalación de MkDocs en Alpine y en MacOS (Catalina)"></a>
    <header class="article-header">
      <div class="clearfix">
        <h2 class="title"><a href="https://onthedock.github.io/post/201013-instalar-mkdocs-en-alpine/">[Solucionado] Instalación de MkDocs en Alpine y en MacOS (Catalina)</a></h2>
        <ul class="p-facts">
          <li><time datetime="2020-10-13T18:43:49JST">13 Oct 2020</time></li>
          <li><a href="https://onthedock.github.io/post/">post</a></li>
          
        </ul>
      </div>
    </header>
  </div>
</article>
</li><li><article class="li sm article-5e7a622986ce86264ec760d50d1b24dc">
  <div class="header-wrapper">
    <a href="https://onthedock.github.io/post/200926-imagenes-de-registries-diferentes-a-dockerhub/" class="thumbnail" title="Imagen base de un registry diferente a Docker Hub"></a>
    <header class="article-header">
      <div class="clearfix">
        <h2 class="title"><a href="https://onthedock.github.io/post/200926-imagenes-de-registries-diferentes-a-dockerhub/">Imagen base de un registry diferente a Docker Hub</a></h2>
        <ul class="p-facts">
          <li><time datetime="2020-09-26T14:02:56JST">26 Sep 2020</time></li>
          <li><a href="https://onthedock.github.io/post/">post</a></li>
          
        </ul>
      </div>
    </header>
  </div>
</article>
</li><li><article class="li sm article-5ebb631840a278963e57bd511343a7de">
  <div class="header-wrapper">
    <a href="https://onthedock.github.io/post/200926-multistage-builds-con-docker/" class="thumbnail" title="Multi-stage builds con Docker"></a>
    <header class="article-header">
      <div class="clearfix">
        <h2 class="title"><a href="https://onthedock.github.io/post/200926-multistage-builds-con-docker/">Multi-stage builds con Docker</a></h2>
        <ul class="p-facts">
          <li><time datetime="2020-09-26T09:19:18JST">26 Sep 2020</time></li>
          <li><a href="https://onthedock.github.io/post/">post</a></li>
          
        </ul>
      </div>
    </header>
  </div>
</article>
</li><li><article class="li sm article-b81d424b8eb3bb8c288fe36d23387788">
  <div class="header-wrapper">
    <a href="https://onthedock.github.io/post/200925-resetear-el-password-del-admin-en-gitea/" class="thumbnail" title="Resetear el password de administrador en Gitea"></a>
    <header class="article-header">
      <div class="clearfix">
        <h2 class="title"><a href="https://onthedock.github.io/post/200925-resetear-el-password-del-admin-en-gitea/">Resetear el password de administrador en Gitea</a></h2>
        <ul class="p-facts">
          <li><time datetime="2020-09-25T21:31:30JST">25 Sep 2020</time></li>
          <li><a href="https://onthedock.github.io/post/">post</a></li>
          
        </ul>
      </div>
    </header>
  </div>
</article>
</li>
    </ul>
  </section>
  
</div>


    </main>

    

    <footer class="l-footer">
      <div class="l-container">
        <p class="copyright-notice">Handmade with &#9829; by Xavi Aznar</p>
        <aside>
          <p class="attribution">Powered by <a href="https://gohugo.io/">Hugo</a> using <a href="https://github.com/dim0627/hugo_theme_aglaus" class="h-logo">Aglaus</a> (designed by <a href="http://yet.unresolved.xyz/">Daisuke Tsuji</a>).</p>
        </aside>
      </div>
    </footer>

    <a href="#" class="p-movetop" title="ページ上部へ戻る" rel="nofollow"></a>
  </body>
</html>

